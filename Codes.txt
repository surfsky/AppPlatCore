@page
@using System.Text;
@model App.Pages.AI.JewelsModel
@{
    ViewData["Title"] = "Jewels Classfier";
}

@section head {
    <style type="text/css">
        ul.icons {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
            ul.icons li {
                display: inline-block;
                margin: 0 10px 10px 0;
                text-align: center;
                border-style: solid;
                border-width: 1px;
                padding: 10px 5px;
                width: 150px;
            }
                ul.icons li img {
                    width: 64px;
                    height: 64px;
                }
                ul.icons li .title {
                    margin-top: 10px;
                }
    </style>
}

@section body {

    <f:SimpleForm ID="SimpleForm1" ShowBorder="false" ShowHeader="false" BodyPadding="10" IsViewPort="true" AutoScroll="true">
        <Items>
            <f:Image ID="imgPhoto" CssClass="photo" ImageUrl="~/res/images/blank.png" ShowEmptyLabel="true" Label="Í¼Æ¬"  Width="200" />
            <f:FileUpload ID="filePhoto" ShowEmptyLabel="true" ButtonText="ÉÏ´«Í¼Æ¬" ButtonOnly="true" ButtonIcon="ImageAdd" OnFileSelected="@Url.Handler("filePhoto_FileSelected")" OnFileSelectedFields="filePhoto,grid" />

            <f:Grid ID="grid" BoxFlex="1" ShowBorder="true" ShowHeader="false" EnableCheckBoxSelect="true"
                    DataIDField="ID" DataTextField="Name"
                    AllowSorting="false" AllowPaging="false"
                    DataSource="@Model.Results">
                <Columns>
                    <f:RowNumberField EnablePagingNumber="true"></f:RowNumberField>
                    <f:RenderField For="Results.First().Label" Width="300" />
                    <f:RenderField For="Results.First().Score" ExpandUnusedSpace="true" />
                </Columns>
            </f:Grid>
            <f:ContentPanel ID="ContentPanel1" BodyPadding="10" ShowBorder="false" ShowHeader="false">
                @{
                    var sb = new StringBuilder();
                    var iconUrl = Url.Content("~/res/images/empty.png");
                    sb.Append("<ul class=\"icons\">");
                    foreach (string icon in Enum.GetNames(typeof(Icon)))
                    {
                        Icon iconType = (Icon)Enum.Parse(typeof(Icon), icon);
                        if (iconType != Icon.None)
                            iconUrl = Url.Content(IconHelper.GetIconUrl(iconType));

                        sb.AppendFormat("<li class=\"f-state-default\"><img src=\"{0}\"/><div class=\"title\">{1}?w=64</div></li>", iconUrl, icon);
                    }
                    sb.Append("</ul>");
                }
                @Html.Raw(sb.ToString());

            </f:ContentPanel>
        </Items>
    </f:SimpleForm>
}


            <f:ContentPanel ID="ContentPanel1" BodyPadding="10" ShowBorder="false" ShowHeader="false">
                @{
                }
                @Html.Raw(sb.ToString());

            </f:ContentPanel>


            
            <f:Grid ID="grid" BoxFlex="1" ShowBorder="true" ShowHeader="false" EnableCheckBoxSelect="true"
                    DataIDField="ID" DataTextField="Name"
                    AllowSorting="false" AllowPaging="false"
                    DataSource="@Model.Results">
                <Columns>
                    <f:RowNumberField EnablePagingNumber="true"></f:RowNumberField>
                    <f:RenderField For="Results.First().Label" Width="300" />
                    <f:RenderField For="Results.First().Score" ExpandUnusedSpace="true" />
                </Columns>
            </f:Grid>
            <f:HyperLink NavigateUrl="" Text="<img src='/res/images/empty.png' />" EncodeText="false" />
            //
            //UIHelper.Grid("grid").DataSource(this.Results, grid_fields);
        public List<PredicateResult> Results{ get; set; }


